<?xml version="1.0" encoding="UTF-8" ?>
<experiment boot="need:1.1">
	<services>
		<service name="dashboard" image="warpenguin.no-ip.org/dashboard:1.0" supervisor="true" port="8088"/>
		<service name="client1" image="mm/client:1.0" command="['server', '0', '600']"/>
<!--
		<service name="client2" image="warpenguin.no-ip.org/alpineclient:1.0" command="['server', '0', '0']"/>
		<service name="client3" image="warpenguin.no-ip.org/alpineclient:1.0" command="['server', '0', '0']"/>
-->
		<service name="server" image="mm/server:1.0" share="false"/>
	</services>
	<bridges>
                <bridge name="s1"/>
                <bridge name="s2"/>
	</bridges>
        <links>
                <link origin="client1" dest="s1" latency="10" upload="100Mbps" download="100Mbps" network="test_overlay"/>
<!--
                <link origin="client2" dest="s1" latency="5" upload="100Mbps" download="100Mbps" network="test_overlay"/>
                <link origin="client3" dest="s1" latency="5" upload="10Mbps" download="10Mbps" network="test_overlay"/>
-->
                <link origin="s1" dest="s2" latency="10" upload="50Mbps" download="50Mbps" network="test_overlay"/>
                <link origin="s2" dest="server" latency="5" upload="100Mbps" download="100Mbps" network="test_overlay"/>
	</links>
	<dynamic>
		<schedule name="client1" time="0.0" action="join"/>
<!--
		<schedule name="client2" time="0.0" action="join"/>>
		<schedule name="client3" time="0.0" action="join"/>
-->
		<schedule name="server"  time="0.0" action="join" amount="1"/> <!-- 17 21 10 -->

		<!--<schedule origin="s1" dest="s2" time="5.0" drop="0.9999"/>
		  <schedule origin="s1" dest="s2" time="10.0" drop="0.0"/>-->

		<!-- <schedule origin="client3" dest="s1" time="10.0" upload="100Mbps"/>  --> <!-- 14 17 17 -->
		
<!--
		<schedule origin="client1" dest="s1" time="20.0" drop="1.0" /> 
-->

<!-- 16 16 16 -->
<!--
		<schedule origin="s1" dest="client1" time="20.0" latency="5"/>
-->
		
<!--
		<schedule origin="client3" dest="s1" time="30.0" latency="10"/> 
-->
<!--
		<schedule origin="s1" dest="client3" time="30.0" latency="10"/> 		
-->

		<schedule name="client1" time="600.0" action="leave"/>
<!--
		<schedule name="client2" time="60.0" action="crash"/> 
		<schedule name="client3" time="60.0" action="crash"/>
-->
		<schedule name="server"  time="600.0" action="leave" amount="1"/>
	</dynamic>
</experiment>
